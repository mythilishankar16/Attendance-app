/*! Countdown - Thu, 03 Oct 2024 20:18:32 GMT */
"use strict";(self.webpackChunkom_api_js=self.webpackChunkom_api_js||[]).push([[7],{2166:function(e,t,i){i.r(t),i.d(t,{default:function(){return a}});var s=i(499),n=i(3824);class a{constructor(e){this.C=e,this.selector=`#om-${e.id} .${e.ns}-CountdownElement--content`,this.elements=null,this.cookie="omCountdown-"+e.id,this.timer=null,this.minWidth="0px",this.initiated=!1,this.finished=[]}init(){(0,n.trigger)(document,"Countdown.init",{Countdown:this,Campaign:this.C}),this.end(),this.elements=(0,n.querySelectorAll)(this.selector),this.elements.length&&((0,n.each)(this.elements,((e,t)=>{let i=t.querySelector(".number-widths"),s=(0,n.querySelectorAll)(".number-widths span",t);if(i){i.style.display="block";const e=[];s&&(0,n.each)(s,((t,i)=>{i.style.display="inline-block",e.push(i.offsetWidth)})),(0,n.remove)(i),this.minWidth=Math.max.apply(Math,e)}})),this.update(),this.timer=setInterval(this.update,1e3))}deadline=e=>{let t=1e3*parseInt(e.dataset.omcdTime),i=e.dataset.omcdType,n=e.dataset.omcdId,a="true"===e.dataset.omcdLocal,o=0,r=s.A.get(this.cookie+"-"+n),h=this.C.options.crossSubdomainCookies;if(a&&"static"===i){let e=new Date;e.setTime(t),t=new Date(e.toUTCString().replace(" GMT","")).getTime()}switch(i){case"static":o=t;break;case"dynamic":if(r&&null!==r)o=parseInt(r),this.initiated=!0;else if(!this.initiated){let e=new Date;e.setTime(e.getTime()+t),s.A.create(this.cookie+"-"+n,e.getTime(),t/1e3,h),o=e.getTime()}}return o};update=()=>{this.elements.length&&(0,n.each)(this.elements,((e,t)=>{if((0,n.inArray)(t,this.finished))return;let i=t.querySelector(`.${this.C.ns}-days .number-days`),s=t.querySelector(`.${this.C.ns}-hours .number-hours`),a=t.querySelector(`.${this.C.ns}-minutes .number-minutes`),o=t.querySelector(`.${this.C.ns}-seconds .number-seconds`),r=this.deadline(t),h=this.remaining(r),l='<span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:'+this.minWidth+'px;">',d="</span>",c=d+l;if(i&&(i.innerHTML=l+(0,n.addLeadingZeros)(h.days,2).split("").join(c)+d),s){let e=h.hours;e=i?e:24*h.days+e,s.innerHTML=l+(0,n.addLeadingZeros)(e,2).split("").join(c)+d}if(a){let e=h.minutes;e=i||s?e:24*h.days*60+e,e=s?e:60*h.hours+e,a.innerHTML=l+(0,n.addLeadingZeros)(e,2).split("").join(c)+d}if(o){let e=h.seconds;e=i||s||a?e:24*h.days*60*60+e,e=s||a?e:60*h.hours*60+e,e=a?e:60*h.minutes+e,o.innerHTML=l+(0,n.addLeadingZeros)(e,2).split("").join(c)+d}0>=h.total&&(this.finished.push(t),this.actions(t))}))};remaining=e=>{let t=Math.max(0,e-(0,n.currentTime)())/1e3;return{total:t,days:Math.max(0,Math.floor(t/86400)),hours:Math.max(0,Math.floor(t/3600%24)),minutes:Math.max(0,Math.floor(t/60%60)),seconds:Math.max(0,Math.floor(t%60))}};end=()=>{this.initiated=!1,clearInterval(this.timer)};actions=e=>{e.omAction&&(e.omAction.manual(e),this.C.settings.actionClose="close"===e.omAction.type)}}}}]);